{
    "swagger": "2.0",
    "info": {
        "title": "Security Insights",
        "description": "API spec for Microsoft.SecurityInsights (Azure Security Insights) resource provider",
        "version": "2024-05-01-preview"
    },
    "paths": {
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/partnershipOperations/{operationId}": {
            "get": {
                "tags": [
                    "PartnershipOperations"
                ],
                "operationId": "GetOperation",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "path",
                        "name": "operationId",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Ok",
                        "schema": {
                            "$ref": "#/definitions/OperationArmModelArmObjectWrapper"
                        }
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/partnerships/{partnershipName}": {
            "get": {
                "tags": [
                    "Partnerships"
                ],
                "operationId": "GetPartnership",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "path",
                        "name": "partnershipName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PartnershipArmModelArmObjectWrapper"
                        }
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Partnerships"
                ],
                "operationId": "PutPartnership",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "path",
                        "name": "partnershipName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "Referer",
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    },
                    {
                        "in": "body",
                        "name": "partnershipArmToUpsert",
                        "schema": {
                            "$ref": "#/definitions/PartnershipArmModelArmObjectWrapper"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PartnershipArmModelArmObjectWrapper"
                        }
                    },
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/PartnershipArmModelArmObjectWrapper"
                        }
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Partnerships"
                ],
                "operationId": "DeletePartnership",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "path",
                        "name": "partnershipName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "Referer",
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    },
                    "204": {
                        "description": "NoContent"
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/partnerships": {
            "get": {
                "tags": [
                    "Partnerships"
                ],
                "operationId": "GetPartnerships",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/ODataFilter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/ODataOrderBy"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/ODataSkipToken"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/ODataTop"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/PartnershipArmModelArmObjectWrapper"
                        }
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            }
        },
        "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/providers/Microsoft.SecurityInsights/partnerships/{partnershipName}/revoke": {
            "post": {
                "tags": [
                    "Partnerships"
                ],
                "operationId": "RevokePartnership",
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
                    },
                    {
                        "$ref": "../../../common/2.0/types.json#/parameters/WorkspaceName"
                    },
                    {
                        "in": "path",
                        "name": "partnershipName",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "Referer",
                        "type": "string"
                    },
                    {
                        "in": "header",
                        "name": "x-ms-client-workspace-id",
                        "type": "string",
                        "format": "uuid"
                    },
                    {
                        "$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    },
                    "default": {
                        "description": "Error response describing why the operation failed.",
                        "schema": {
                            "$ref": "../../../common/2.0/types.json#/definitions/CloudError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "OperationArmModel": {
            "required": [
                "status"
            ],
            "type": "object",
            "properties": {
                "startTime": {
                    "format": "date-time",
                    "type": "string"
                },
                "endTime": {
                    "format": "date-time",
                    "type": "string"
                },
                "status": {
                    "$ref": "#/definitions/OperationArmStatus"
                },
                "error": {
                    "type": "string"
                }
            }
        },
        "OperationArmModelArmObjectWrapper": {
            "required": [
                "properties"
            ],
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../../common/2.0/types.json#/definitions/ResourceWithEtag"
                }
            ],
            "properties": {
                "properties": {
                    "type": "object",
                    "$ref": "#/definitions/OperationArmModel",
                    "x-ms-client-flatten": true
                }
            }
        },
        "OperationArmStatus": {
            "enum": [
                "Accepted",
                "InProgress",
                "TransientFailure",
                "Succeeded",
                "Failed",
                "Canceled"
            ],
            "type": "string",
            "example": "Accepted",
            "x-ms-enum": {
                "name": "OperationArmStatus",
                "modelAsString": true,
                "values": [
                    {
                        "value": "Accepted"
                    },
                    {
                        "value": "InProgress"
                    },
                    {
                        "value": "TransientFailure"
                    },
                    {
                        "value": "Succeeded"
                    },
                    {
                        "value": "Failed"
                    },
                    {
                        "value": "Canceled"
                    }
                ]
            }
        },
        "PartnershipArmModel": {
            "required": [
                "displayName"
            ],
            "type": "object",
            "properties": {
                "displayName": {
                    "minLength": 1,
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "notificationMethod": {
                    "$ref": "#/definitions/PartnershipNotificationMethodArmModel"
                },
                "metadata": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "condition": {
                    "$ref": "#/definitions/PartnershipConditionArmModel"
                },
                "state": {
                    "type": "object",
                    "readOnly": true,
                    "$ref": "#/definitions/PartnershipStateArmType"
                },
                "partnershipId": {
                    "type": "string",
                    "readOnly": true
                },
                "partnershipKind": {
                    "type": "object",
                    "readOnly": true,
                    "$ref": "#/definitions/PartnershipKindArmType"
                },
                "partnershipInvitation": {
                    "$ref": "#/definitions/PartnershipInvitationArmModel"
                }
            }
        },
        "PartnershipArmModelArmObjectWrapper": {
            "required": [
                "properties"
            ],
            "type": "object",
            "allOf": [
                {
                    "$ref": "../../../common/2.0/types.json#/definitions/ResourceWithEtag"
                }
            ],
            "properties": {
                "properties": {
                    "type": "object",
                    "$ref": "#/definitions/PartnershipArmModel",
                    "x-ms-client-flatten": true
                }
            }
        },
        "PartnershipConditionArmModel": {
            "type": "object",
            "properties": {
                "workspaceId": {
                    "type": "string"
                },
                "tenantId": {
                    "type": "string"
                }
            }
        },
        "PartnershipInvitationArmModel": {
            "type": "object",
            "properties": {
                "invitationToken": {
                    "type": "string"
                }
            }
        },
        "PartnershipKindArmType": {
            "enum": [
                "Inviter",
                "Invitee"
            ],
            "type": "string",
            "example": "Inviter",
            "x-ms-enum": {
                "name": "PartnershipKindArmType",
                "modelAsString": true,
                "values": [
                    {
                        "value": "Inviter"
                    },
                    {
                        "value": "Invitee"
                    }
                ]
            }
        },
        "PartnershipNotificationMethodArmModel": {
            "required": [
                "email"
            ],
            "type": "object",
            "properties": {
                "email": {
                    "minLength": 1,
                    "type": "string"
                },
                "comment": {
                    "type": "string"
                }
            }
        },
        "PartnershipStateArmType": {
            "enum": [
                "Pending",
                "Accepted",
                "Revoked"
            ],
            "type": "string",
            "example": "Pending",
            "x-ms-enum": {
                "name": "PartnershipStateArmType",
                "modelAsString": true,
                "values": [
                    {
                        "value": "Pending"
                    },
                    {
                        "value": "Accepted"
                    },
                    {
                        "value": "Revoked"
                    }
                ]
            }
        }
    },
    "securityDefinitions": {
        "azure_auth": {
            "type": "oauth2",
            "flow": "implicit",
            "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
            "scopes": {
                "user_impersonation": "impersonate your user account"
            },
            "description": "Azure Active Directory OAuth2 Flow"
        }
    },
    "security": [
        {
            "azure_auth": [
                "user_impersonation"
            ]
        }
    ],
    "host": "management.azure.com",
    "schemes": [
        "https"
    ],
    "produces": [
        "application/json"
    ],
    "consumes": [
        "application/json"
    ]
}